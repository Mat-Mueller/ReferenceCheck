<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Text Selection and CrossRef Search</title>
    <link rel="stylesheet" href="styles.css">

</head>
<body>
    <div id="controls" class="controls">
        <img src="Logo.png" alt="Icon" id="icon" style="width: 40px;">
        Citalyze
        <div id="pdfFile"></div>
        <div id="rightCON">
        <div id="Goback" style="display: none"></div>
        <div class="reload-icon" onclick="location.reload()"></div>
        <!-- Navbar with hamburger menu -->
        <div class="menu-icon" id="menu-icon">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>
    

        <ul class="menu" id="menu">
            <!-- <li><a href="https://github.com/Mat-Mueller/ReferenceCheck" target="_blank">V0.8</a></li>  -->
            <li><a href="#" id="open-privacy-modal">Privacy Policy</a></li>
            <li><a href="mailto:support@citalyze.de?subject=PDF%20Citation%20Analyzer">Contact</a></li>
        </ul>
    </div>
    </div>

    <div id="viewer">

        <div class="frame" id="scholar-container">
            <div id="description" style="background-color: white;"> </div>
            <div id="settings" display="none">
                <h2 style="padding-left: 10px;">Import settings</h2>                
                <div id="settings-1">
                    <p id="settings-1text"> </p>
                    <div>
                    <label>
                        <input type="checkbox" id="checkHeader" name="checkHeader"> PDF has header
                    </label>
                    <label>
                        <input type="checkbox" id="checkFooter" name="checkFooter"> PDF has footer
                    </label>
                </div>
                </div>
                <div class="content">
                    <div id="settings-2">
                        <p id="settings-2text" style="min-height: 80px; width:100%;"> </p>
                        <button class="button" id="SetStartManually"> Set start manually</button>
                    </div>
                    <div id="settings-3">
                        <p id="settings-3text" style="min-height: 80px; width:100%;"> </p>
                        <button class="button" id="SetEndManually"> Set end manually</button>
                    </div>
                </div>
                <div id="settings-4">
                    <p id="settings-4text"> Please select </p>
                    <div id="subdivButtoonCont">
                    <button class="button" id="subdivButton"></button>
                    <button class="button" id="subdivButton2"></button>
                </div>
                    <button  id="continue-button">Continue</button>
                </div>
            </div>
            <div id="thirdframe" class="OuterFrame2" style="display: none"></div>
            <div id="secondframe" class="OuterFrame" style="display: none"></div>
            
        </div>

        <div class="frame" id="pdf-container" ondrop="handleDrop(event)" ondragover="handleDragOver(event)">
            <div id="dragArea">
                <input type="file" id="pdf-upload" accept="application/pdf">
                Drag and drop a PDF here or use the file upload button.
            </div>
        </div>


    </div>
    <div id="loadingScreen" class="loading-screen">
        <div id="MainLoading" >Loading...
            <div class="spinner" style="display: block;" ></div>
        </div>
        <div id="UserSelectLoading" style="display: none;" >
            <div  id="userSelectText" >Reference identification unsuccesful. Please go to the seetings tab.</div>
            <div id="userSelectButtonCont">
            <button  id="UserSelectExit" class="button">Settings</button>
            <button  id="UserSelectContinue" class="button" disabled>Continue</button>
        </div>
            
        </div>
      </div>

    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.6.82/pdf.min.mjs" type="module"></script> -->
    <script type="module">
        import * as pdfjsLib from './pdf.js/pdf.mjs'; // Correct relative path to the module
    
        // Set the worker script location
        pdfjsLib.GlobalWorkerOptions.workerSrc = './pdf.js/pdf.worker.mjs'; // Correct relative path to the worker
    </script>

    <script type="module" src="scripts/main.js"></script>

    <div id="password-overlay">
        <h2>This page is protected</h2>
        <input type="password" id="password-input" placeholder="Enter password">
        <button id="password-button">Unlock</button>
        <div id="password-error"></div>
    </div>

    <div id="cookie-container">
        <div id="cookie-overlay"></div>
        <div id="cookie-banner">
          This site does not use cookies. Just letting you know!
          <button id="cookie-btn">Got it</button>
        </div>
      </div>


      <div id="privacy-modal" class="modal">
        <div class="modal-content">
          <span id="close-modal" class="close-btn">&times;</span>
          <h2>Privacy Policy</h2>
          <p>This site does not use cookies or track users. No personal data is collected...</p>
        </div>
      </div>
</body>


</html>
